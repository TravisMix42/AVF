//compass.js for Native Features app
//by Travis A. Mix
//for AVF1403
//on March 12, 2014

//everythign in here will be applied to win2

var compassLabel = new Object();
var heading;

var getCompassHeading = function(){
	Ti.Geolocation.purpose = "get current heading?";
	
	Ti.Geolocation.getCurrentHeading(function(e){
		heading = e.heading;
	});
	
	compassLabel = Ti.UI.createLabel({
		text : "Heading: " + heading,
		textAlign : 'center',
		height : 80,
		top : 20,
		left : 20,
		right : 20
	});
	win2.add(compassLabel);
};

var compassBtn = Ti.UI.createButton({
	title : "Get Heading",
	color : "black",
	backgroundColor : "green",
	height : 80,
	top : 120,
	left : 80,
	right : 80,
	borderRadius : 10
});

compassBtn.addEventListener('click', function(){
	compassLabel.text = "";
	getCompassHeading();
});