//geolocate.js for Native Features app
//by Travis A. Mix
//for AVF1403
//on March 12, 2014

//everything in here will be applied to win1

var refreshBtn = Ti.UI.createButton({
	height : 40,
	top : 100,
	left : 80,
	right : 80,
	borderRadius : 10,
	title : "Get GEOLOCATION",
	backgroundColor : "green",
	color : "black"
});

win1.add(refreshBtn);

function getGeolocate (){
	Ti.Geolocation.purpose = "need to access your location to function.";
	refreshData = function(){
		Ti.Geolocation.getCurrentPosition(function(e){
			if(!e.success || e.error){
				Ti.API.error(JSON.stringify(e.error));
				alert("error" + JSON.stringify(e.error));
				return;
			}
			Ti.API.info("Geolocation: long: " + e.coords.longitude + " lat: " + e.coords.latitude);
		});
	};
}

refreshBtn.addEventListener("click", getGeolocate());