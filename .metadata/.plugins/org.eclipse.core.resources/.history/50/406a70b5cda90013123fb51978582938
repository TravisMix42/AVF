//geolocate.js for Native Features app
//by Travis A. Mix
//for AVF1403
//on March 12, 2014

//everything in here will be applied to win1

var runGeo = function(){
	Ti.Geolocation.purpose = "Your location is needed to gather lat/long coords.";
	
	gpsProvider = Ti.Geolocation.Android.createLocationProvider({
    	name: Ti.Geolocation.PROVIDER_GPS,
    	minUpdateTime: 60, 
    	minUpdateDistance: 100
	});
	
	Ti.Geolocation.Android.addLocationProvider(gpsProvider);
	
	Ti.Geolocation.getCurrentPosition(function(e){
		var lat = e.coords.latitude;
		var lng = e.coords.longitude;
		var coordinateLabel = Ti.UI.createLabel({
			color: 'black',
			text: 'Latitude: ' + lat + ', Longitude: ' + lng,
			height: Ti.UI.SIZE,
			textAlign: 'center',
			font: {fontSize : '20dp'}
			 
		});
		win1.add(coordinateLabel);
	});
};
Ti.Geolocation.addEventListener('location', runGeo);