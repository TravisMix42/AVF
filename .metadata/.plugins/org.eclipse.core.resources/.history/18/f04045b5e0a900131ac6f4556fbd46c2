//compass.js for Native Features app
//by Travis A. Mix
//for AVF1403
//on March 12, 2014

//everythign in here will be applied to win2

var compassLabel = new Object();

var getCompassHeading = Ti.Geolocation.getCurrentHeading(function(e){
	var trueHeading = e.heading.trueHeading;
	compassLabel = Ti.UI.createLabel({
		color: '#fff',
		text: 'True Heading: ' + trueHeading,
		height: Ti.UI.SIZE,
		textAlign: 'center',
		font: {fontSize: '20dp', fontWeight: 'bold'},
		height : 80,
		top : 20,
		left : 80,
		right : 80 
	});
	win2.add(compassLabel);
});

var compassBtn = Ti.UI.createButton({
	title : "Get Heading",
	color : "black",
	backgroundColor : "green",
	top : 120,
	left : 80,
	right : 80
});

compasBtn.addEventListener('click', function(){
	compassLabel.text = "";
	getCompassHeading();
});