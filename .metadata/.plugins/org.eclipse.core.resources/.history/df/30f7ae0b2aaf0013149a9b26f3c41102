//functions.js file for datasyncin app
//avf 1403 week 3
//Travis Mix
//march 18, 2014

//store our functions needed that dont really fit anywhere else in the app

//function to update and store newly added data to the local
//storage to be displayed in the local view tab of the app
var updateLocal = function(){
	//were just gonna store the name of the locations
	//in local storage for simplicities sake
	db = Ti.Database.open('myDb');
	db.execute('INSERT INTO places(name) VALUES (?)', nameEnter.value);
	nameEnter.value = "";
	addressEnter.value = "";
	cityEnter.value = "";
	stateEnter.value = "";
	db.close();
	createRows();
};

//function to update and stor newly added data to the cloud
var updateCloud = function(){
	Cloud.Places.create({
		name : nameEnter.value,
		address : addressEnter.value,
		city : cityEnter.value,
		state : stateEnter.value
	}, function(e){
		if(e.success){
			var place = e.places[0];
		}else{
			alert("Error:\n" + ((e.error && e.message) || JSON.stringify(e)));
		}	
		nameEnter.value = "";
		addressEnter.value = "";
		cityEnter.value = "";
		stateEnter.value = "";
	});
};